{"version":3,"sources":["shadow/expo.cljs"],"mappings":";AAKA,AAAA,AAAAA,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAS,AAAA,AAACC;;AACnB,AAAA,AAAAJ,AAAAC,AAAAI;AAAA;AAAA,AAAA,AAASC,AAAmB,AAAA,AAACF;;AAE7B,AAAA,AAAMG,AAAaC;AAAnB,AACE,AAAMC,AAAY,AAAA,AAAAC,AAAA,AAAOP;AAAzB,AACE,AAACQ,AAAOR,AAASK;;AAEjB,AAAA,AAAQC;AACN,AAAAG,AAAA,AAAAF,AAAiBJ;AAAjB,AAAA,AAAAM;AAAA,AAAA,AAAAA,AAAWJ;AAAX,AACE,AAAkBA;;AADpB;;;AAEA,AAAMK,AACA,AAAA,AAACC,AAEM;AAAA,AACE,AAAA,AAASC;AAAT,AACE,AAACJ,AAAOL,AAAmBS;AAE/B;AAAA,AACE,AAAA,AAACJ,AAAOL;AAEV;AAAA,AACE,AAAA,AAAAI,AAAMM,AAAMb;AAAZ,AACE,AAAI,AAACc,AAAID;AACP,AAACA,AAAAA,AAAAA;;AACDA;;;AAdnB,AAgBE,AAACE,AAA2BL","names":["js/shadow","js/shadow.expo","js/shadow.expo.root-ref","shadow.expo/root-ref","cljs.core.atom","js/shadow.expo.root-component-ref","shadow.expo/root-component-ref","shadow.expo/render-root","root","first-call?","cljs.core/deref","cljs.core/reset!","temp__5735__auto__","Root","js/shadow.js.shim.module$create_react_class","this","body","cljs.core/fn?","js/shadow.js.shim.module$expo.registerRootComponent"],"sourcesContent":["(ns shadow.expo\n  (:require\n    [\"expo\" :as expo]\n    [\"create-react-class\" :as crc]))\n\n(defonce root-ref (atom nil))\n(defonce root-component-ref (atom nil))\n\n(defn render-root [root]\n  (let [first-call? (nil? @root-ref)]\n    (reset! root-ref root)\n\n    (if-not first-call?\n      (when-let [root @root-component-ref]\n        (.forceUpdate ^js root))\n      (let [Root\n            (crc\n              #js {:componentDidMount\n                   (fn []\n                     (this-as this\n                       (reset! root-component-ref this)))\n                   :componentWillUnmount\n                   (fn []\n                     (reset! root-component-ref nil))\n                   :render\n                   (fn []\n                     (let [body @root-ref]\n                       (if (fn? body)\n                         (body)\n                         body)))})]\n\n        (expo/registerRootComponent Root)))))\n\n\n"]}